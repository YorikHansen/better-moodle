name: ðŸ“‡ Find configs

on:
    workflow_call:
        outputs:
            configs:
                description: A JSON string of all available configs
                value: ${{ jobs.find-configs.outputs.configs }}

jobs:
    find-configs:
        runs-on: ubuntu-latest
        outputs:
            configs: ${{ steps.configs.configs }}
        steps:
            - uses: actions/checkout@v4

            - run: echo "configs=$(basename -a ./configs/*.json | jq -R | jq -s | jq '. - ["_schema.json"]' | jq -c)" >> $GITHUB_OUTPUT
